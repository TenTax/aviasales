{"version":3,"sources":["redux/actionTypes.js","components/Filter/Filter.jsx","redux/actions.js","favicon.svg","components/Logo/Logo.jsx","components/Tickets/Ticket/Ticket.jsx","components/Tickets/Tickets.jsx","components/Tabs/Tabs.jsx","components/Preloader/Preloader.jsx","components/App/App.jsx","redux/reducers/reducer.js","redux/reduxStore.js","index.js"],"names":["GET_TICKETS_SUCCESS","GET_TICKETS_FAILED","NEXT_PAGE","SORTING","FETCHING","SET_FILTER","Filter","setFilter","this","props","filterCheck","e","target","getAttribute","className","htmlFor","onChange","type","id","data-filter","React","Component","mapDispatchToProps","filter","dispatch","connect","state","Logo","src","logo","alt","TabTicket","ticket","price","carrier","segments","parseDate","date","difference","newDate","Date","parse","parseInt","toLocaleTimeString","substring","lastIndexOf","parseTime","time","Math","floor","ceil","stopsParse","stops","length","toLocaleString","origin","destination","duration","map","stop","i","Tickets","tickets","sort","perPage","pageCount","a","b","j","slice","ticketsReduce","Tabs","sorting","onClick","Preloader","App","setTickets","window","addEventListener","docHeight","document","documentElement","offsetHeight","clientHeight","scrollTop","nextPage","isFetching","data","Axios","get","then","res","getTickets","searchId","catch","err","initialState","failed","reducer","action","concat","toogleItem","newArray","indexOf","splice","push","reducers","combineReducers","store","createStore","applyMiddleware","thunk","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.22bb8177.chunk.js","sourcesContent":["export const GET_TICKETS_SUCCESS = 'GET_TICKETS_SUCCESS';\r\nexport const GET_TICKETS_FAILED = 'GET_TICKETS_FAILED';\r\nexport const NEXT_PAGE = 'NEXT_PAGE';\r\nexport const SORTING = 'SORTING';\r\nexport const FETCHING = 'FETCHING';\r\nexport const SET_FILTER = 'SET_FILTER';","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { setFilter } from '../../redux/actions';\r\nimport './Filter.css';\r\n\r\nclass Filter extends React.Component {\r\n    render() {\r\n        const { setFilter } = this.props;\r\n\r\n        const filterCheck = (e) => {\r\n            setFilter(e.target.getAttribute('data-filter'));\r\n        }\r\n\r\n        return (\r\n            <div className=\"filter\">\r\n                <h2 className=\"filter__title\">Количество пересадок</h2>\r\n                <label className=\"filter__label\" htmlFor=\"stopsWithout\">\r\n                    <input className=\"filter__checkbox\" onChange={filterCheck} type=\"checkbox\" id='stopsWithout' data-filter='0' />\r\n                    <span>Без пересадок</span>\r\n                </label>\r\n                <label className=\"filter__label\" htmlFor=\"oneStop\">\r\n                    <input className=\"filter__checkbox\" onChange={filterCheck} type=\"checkbox\" id='oneStop' data-filter='1' />\r\n                    <span>1 пересадка</span>\r\n                </label>\r\n                <label className=\"filter__label\" htmlFor=\"twoStops\">\r\n                    <input className=\"filter__checkbox\" onChange={filterCheck} type=\"checkbox\" id='twoStops' data-filter='2' />\r\n                    <span>2 пересадки</span>\r\n                </label>\r\n                <label className=\"filter__label\" htmlFor=\"threeStops\">\r\n                    <input className=\"filter__checkbox\" onChange={filterCheck} type=\"checkbox\" id='threeStops' data-filter='3' />\r\n                    <span>3 пересадки</span>\r\n                </label>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {}\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n    setFilter\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Filter);","import Axios from \"axios\";\r\nimport { GET_TICKETS_FAILED, GET_TICKETS_SUCCESS, NEXT_PAGE, SORTING, FETCHING, SET_FILTER } from \"./actionTypes\";\r\n\r\nexport const setTickets = () => {\r\n    return (dispatch) => {\r\n\r\n        let data = {};\r\n\r\n        dispatch({\r\n            type: FETCHING,\r\n            isFetching: true\r\n        });\r\n\r\n        Axios.get('https://front-test.beta.aviasales.ru/search')\r\n            .then(res => {\r\n                data = res.data;\r\n                getTickets();\r\n            })\r\n\r\n        const getTickets = () => {\r\n            const state = data;\r\n            Axios.get(`https://front-test.beta.aviasales.ru/tickets?searchId=${state.searchId}`)\r\n                .then(res => {\r\n                    if (!res.data.stop) {\r\n                        dispatch({\r\n                            type: GET_TICKETS_SUCCESS,\r\n                            tickets: res.data.tickets,\r\n                            stop: res.data.stop\r\n                        })\r\n                        getTickets();\r\n                    } else {\r\n                        dispatch({\r\n                            type: FETCHING,\r\n                            isFetching: false\r\n                        })\r\n                    }\r\n                })\r\n                .catch(err => {\r\n                    getTickets();\r\n                    dispatch({\r\n                        type: GET_TICKETS_FAILED\r\n                    })\r\n                });\r\n        }\r\n    }\r\n}\r\n\r\nexport const sorting = (sort) => {\r\n    return (dispatch) => {\r\n        dispatch({\r\n            type: SORTING,\r\n            sort: sort\r\n        });\r\n    }\r\n}\r\n\r\nexport const nextPage = (pageCount) => {\r\n    return (dispatch) => {\r\n        dispatch({\r\n            type: NEXT_PAGE,\r\n            pageCount: pageCount\r\n        });\r\n    }\r\n}\r\n\r\nexport const setFilter = (filter) => {\r\n    return (dispatch) => {\r\n        dispatch({\r\n            type: SET_FILTER,\r\n            filter: filter\r\n        });\r\n    }\r\n}","export default __webpack_public_path__ + \"static/media/favicon.84685afa.svg\";","import logo from '../../favicon.svg';\r\nimport './Logo.css';\r\n\r\nconst Logo = () => {\r\n    return (\r\n        <div className=\"logo\">\r\n            <img className=\"logo__img\" src={logo} alt=\"logo\"/>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Logo;","import './Ticket.css';\r\n\r\nconst TabTicket = ({ ticket }) => {\r\n    const { price, carrier, segments } = ticket;\r\n\r\n    const parseDate = (date, difference) => {\r\n        const newDate = new Date(Date.parse(date) + parseInt(difference) * 60 * 1000).toLocaleTimeString();\r\n        return newDate.substring(0, newDate.lastIndexOf(':'));\r\n    }\r\n\r\n    const parseTime = (time) => {\r\n        return `${Math.floor(time / 60)}ч ${Math.ceil(time % 60)}м`;\r\n    }\r\n\r\n    const stopsParse = (stops) => {\r\n        if (stops.length) {\r\n            return 'Пересадок ' + stops.length;\r\n        } else {\r\n            return 'Без пересадок';\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className='ticket'>\r\n            <div className='ticket__row ticket__row--mb20'>\r\n                <div className=\"ticket__col\">\r\n                    <div className='ticket__price'>{price.toLocaleString()} Р</div>\r\n                </div>\r\n                <div className=\"ticket__col\"></div>\r\n                <div className=\"ticket__col\">\r\n                    <img className='ticket__logo' src={`//pics.avs.io/99/36/${carrier}.png`} alt=\"\" />\r\n                </div>\r\n            </div>\r\n            <div className='ticket__row ticket__row--mb10'>\r\n                <div className='ticket__col'>\r\n                    <div className='ticket__title'>{segments[0].origin} - {segments[0].destination}</div>\r\n                    <div className='ticket__text'>\r\n                        {parseDate(segments[0].date, 0)} - {parseDate(segments[0].date, segments[0].duration)}\r\n                    </div>\r\n                </div>\r\n                <div className='ticket__col'>\r\n                    <div className='ticket__title'>В пути</div>\r\n                    <div className='ticket__text'>{parseTime(segments[0].duration)}</div>\r\n                </div>\r\n                <div className='ticket__col'>\r\n                    <div className='ticket__title'>{stopsParse(segments[0].stops)}</div>\r\n                    <div className='ticket__text'>\r\n                        {segments[0].stops.map((stop, i, stops) => {\r\n                            return <span key={i}>{++i !== stops.length ? stop + ',' : stop} </span>\r\n                        })}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div className='ticket__row'>\r\n                <div className='ticket__col'>\r\n                    <div className='ticket__title'>{segments[1].origin} - {segments[1].destination}</div>\r\n                    <div className='ticket__text'>\r\n                        {parseDate(segments[1].date, 0)} - {parseDate(segments[1].date, segments[1].duration)}\r\n                    </div>\r\n                </div>\r\n                <div className='ticket__col'>\r\n                    <div className='ticket__title'>В пути</div>\r\n                    <div className='ticket__text'>{parseTime(segments[1].duration)}</div>\r\n                </div>\r\n                <div className='ticket__col'>\r\n                    <div className='ticket__title'>{stopsParse(segments[1].stops)}</div>\r\n                    <div className='ticket__text'>\r\n                        {segments[1].stops.map((stop, i, stops) => {\r\n                            return <span key={i}>{++i !== stops.length ? stop + ',' : stop} </span>\r\n                        })}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default TabTicket;","import React from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nimport Ticket from './Ticket/Ticket';\r\n\r\nimport './Tickets.css';\r\n\r\nclass Tickets extends React.Component {\r\n\r\n    render() {\r\n        const { tickets, sort, perPage, pageCount, filter } = this.props;\r\n\r\n        return (\r\n            <div className=\"tickets\">\r\n                {\r\n                    tickets\r\n                        .sort((a, b) => {\r\n                            if (sort === 'price') {\r\n                                if (a.price > b.price) return 1;\r\n                                if (a.price === b.price) return 0;\r\n                                if (a.price < b.price) return -1;\r\n                            } else if (sort === 'duration') {\r\n                                a = a.segments[0].duration + a.segments[1].duration;\r\n                                b = b.segments[0].duration + b.segments[1].duration;\r\n                                if (a > b) return 1;\r\n                                if (a === b) return 0;\r\n                                if (a < b) return -1;\r\n                            }\r\n                            return null;\r\n                        })\r\n                        .filter((ticket) => {\r\n                            if (filter.length > 0) {\r\n                                for (let i = 0; i < filter.length; i++) {\r\n                                    if (ticket.segments[0].stops.length === +filter[i]) {\r\n                                        for (let j = 0; j < filter.length; j++) {\r\n                                            if (ticket.segments[1].stops.length === +filter[j]) {\r\n                                                return ticket;\r\n                                            }\r\n                                        }\r\n                                    }\r\n                                }\r\n                            } else {\r\n                                return ticket;\r\n                            }\r\n                            return null;\r\n                        })\r\n                        .slice(1, pageCount * perPage + 1)\r\n                        .map((ticket, i) => <Ticket key={i} ticket={ticket} />)\r\n                }\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        tickets: state.ticketsReduce.tickets,\r\n        sort: state.ticketsReduce.sort,\r\n        perPage: state.ticketsReduce.perPage,\r\n        pageCount: state.ticketsReduce.pageCount,\r\n        filter: state.ticketsReduce.filter\r\n    };\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Tickets);\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nimport { sorting } from '../../redux/actions';\r\n\r\nimport './Tabs.css';\r\n\r\nclass Tabs extends React.Component {\r\n    render() {\r\n        const { sort, sorting } = this.props;\r\n\r\n        return (\r\n            <div className=\"tabs\">\r\n                <button\r\n                    onClick={() => sorting('price')}\r\n                    className={`tabs__btn ${sort === 'price' && '_active'}`}>\r\n                    Самый дешевый\r\n                </button>\r\n                <button\r\n                    onClick={() => sorting('duration')}\r\n                    className={`tabs__btn ${sort === 'duration' && '_active'}`}>\r\n                    Самый быстрый\r\n                </button>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        sort: state.ticketsReduce.sort\r\n    };\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n    sorting\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Tabs);","import './Preloder.css';\r\n\r\nconst Preloader = () => <div className='Preloader'></div>\r\n\r\nexport default Preloader;","import React from 'react';\r\nimport Filter from '../Filter/Filter';\r\n\r\nimport { setTickets, nextPage } from '../../redux/actions';\r\n\r\nimport Logo from '../Logo/Logo';\r\nimport Tickets from '../Tickets/Tickets';\r\nimport Tabs from '../Tabs/Tabs';\r\n\r\nimport './App.css';\r\nimport { connect } from 'react-redux';\r\nimport Preloader from '../Preloader/Preloader';\r\n\r\nclass App extends React.Component {\r\n    componentDidMount() {\r\n        this.props.setTickets();\r\n\r\n        window.addEventListener('scroll', () => {\r\n            const docHeight = document.documentElement.offsetHeight,\r\n                clientHeight = document.documentElement.clientHeight,\r\n                scrollBottom = document.documentElement.scrollTop;\r\n\r\n            if ((scrollBottom + clientHeight) > (docHeight - clientHeight)) {\r\n                this.props.nextPage(this.props.pageCount)\r\n            }\r\n        });\r\n    }\r\n\r\n    render() {\r\n        const { isFetching } = this.props;\r\n\r\n        return (\r\n            <div className=\"app\">\r\n                <div className=\"app__logo\">\r\n                    <Logo />\r\n                </div>\r\n                <div className=\"app__row\">\r\n                    <div className=\"app__filter\">\r\n                        <Filter />\r\n                    </div>\r\n                    <div className=\"app__container\">\r\n                        <div className=\"app__tabs\">\r\n                            <Tabs />\r\n                        </div>\r\n                        <div className=\"app__tickets\">\r\n                            {isFetching ? <Preloader /> : <Tickets />}\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        isFetching: state.ticketsReduce.isFetching,\r\n        pageCount: state.ticketsReduce.pageCount\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n    setTickets,\r\n    nextPage\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(App);\r\n","import { GET_TICKETS_FAILED, GET_TICKETS_SUCCESS, NEXT_PAGE, SORTING, FETCHING, SET_FILTER } from \"../actionTypes\"\r\n\r\nconst initialState = {\r\n    tickets: [],\r\n    sort: 'price',\r\n    perPage: 20,\r\n    pageCount: 1,\r\n    isFetching: false,\r\n    filter: [],\r\n\r\n\r\n    failed: false\r\n}\r\n\r\nconst reducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case FETCHING:\r\n            return {\r\n                ...state,\r\n                isFetching: action.isFetching\r\n            }\r\n\r\n        case GET_TICKETS_SUCCESS:\r\n            return {\r\n                ...state,\r\n                tickets: [...state.tickets].concat(action.tickets),\r\n            }\r\n\r\n        case GET_TICKETS_FAILED:\r\n            return {\r\n                ...state,\r\n                failed: true\r\n            }\r\n\r\n        case SORTING:\r\n            return {\r\n                ...state,\r\n                sort: action.sort,\r\n                pageCount: 1\r\n            }\r\n\r\n        case NEXT_PAGE:\r\n            return {\r\n                ...state,\r\n                pageCount: action.pageCount + 1\r\n            }\r\n\r\n        case SET_FILTER: {\r\n            const toogleItem = (filter) => {\r\n                let newArray = [...state.filter];\r\n\r\n                if(newArray.indexOf(filter) !== -1) {\r\n                    newArray.splice(newArray.indexOf(filter), 1)\r\n                } else {\r\n                    newArray.push(filter);\r\n                }\r\n\r\n                return newArray;\r\n            }\r\n\r\n            return {\r\n                ...state,\r\n                pageCount: 1,\r\n                filter: toogleItem(+action.filter)\r\n            }\r\n        }\r\n\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default reducer;","import { createStore, combineReducers, applyMiddleware } from 'redux';\r\nimport thunk from 'redux-thunk';\r\nimport reducer from './reducers/reducer';\r\n\r\nconst reducers = combineReducers({\r\n    ticketsReduce: reducer\r\n});\r\n\r\nconst store = createStore(reducers, applyMiddleware(thunk));\r\n\r\nexport default store;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { Provider } from 'react-redux';\r\nimport App from './components/App/App';\r\nimport store from './redux/reduxStore';\r\n\r\nReactDOM.render(\r\n    <React.StrictMode>\r\n        <Provider store={store}>\r\n            <App />\r\n        </Provider>\r\n    </React.StrictMode>,\r\n    document.getElementById('root')\r\n);"],"sourceRoot":""}