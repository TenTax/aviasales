{"version":3,"sources":["services/ServiceApi.js","components/ErrorMessage/ErrorMessage.jsx","components/Preloader/Preloader.jsx","components/FilterPanel/FilterPanelLabel/FilterPanelLabel.jsx","components/FilterPanel/FilterPanel.jsx","components/SortPanel/ButtonSort/ButtonSort.jsx","components/SortPanel/SortPanel.jsx","components/Ticket/TicketInfo/TicketInfo.jsx","components/Ticket/Ticket.jsx","components/TicketList/TicketList.jsx","components/ButtonLoadMore/ButtonLoadMore.jsx","components/Logo/Logo.svg","components/Logo/Logo.jsx","components/App/AppView.jsx","components/App/App.jsx","index.js"],"names":["ServiceApi","_baseURL","url","Axios","get","this","data","getResourse","searchId","tickets","_transformAllTickets","date","duration","newDate","Date","parse","parseInt","toLocaleTimeString","substring","lastIndexOf","Math","floor","ceil","origin","destination","stops","departure","_dateTransform","arrival","_durationTransform","stopsCount","length","stopsNames","join","map","ticket","index","price","carrier","segments","thither","back","id","toLocaleString","_segmentTransform","ErrorMessage","className","Preloader","FilterPanelLabel","label","handlerFilterPanel","checked","filter","htmlFor","onChange","type","FilterPanel","filters","indexOf","ButtonSort","sort","sortable","handlerSortPanel","classActive","onClick","SortPanel","props","TicketInfo","header","content","Ticket","ticketInfo","segment","src","alt","TicketList","ticketsList","ButtonLoadMore","handlerLoadMore","Logo","logo","AppView","App","serviceApi","state","error","loading","page","getAllTickets","then","setState","catch","err","console","log","message","undefined","slice","arr","a","b","filterTickets","filtering","sortTickets","sorting","viewTickets","paginate","bind","Component","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.e9dc0bc0.chunk.js","sourcesContent":["import Axios from 'axios';\r\n\r\nexport default class ServiceApi {\r\n\r\n    _baseURL = 'https://front-test.beta.aviasales.ru';\r\n\r\n    async getResourse(url) {\r\n        const { data } = await Axios.get(`${this._baseURL}${url}`);\r\n        return data;\r\n    }\r\n\r\n    async getAllTickets() {\r\n        const { searchId } = await this.getResourse(`/search`);\r\n        const { tickets } = await this.getResourse(`/tickets?searchId=${searchId}`);\r\n        return this._transformAllTickets(tickets);\r\n    }\r\n\r\n    _dateTransform(date, duration) {\r\n        const newDate = new Date(Date.parse(date) + parseInt(duration) * 60 * 1000).toLocaleTimeString();\r\n        return newDate.substring(0, newDate.lastIndexOf(':'));\r\n    }\r\n\r\n    _durationTransform(duration) {\r\n        return `${Math.floor(duration / 60)}ч ${Math.ceil(duration % 60)}м`\r\n    }\r\n\r\n    _segmentTransform({ origin, destination, date, duration, stops }) {\r\n        return {\r\n            origin,\r\n            destination,\r\n            departure: this._dateTransform(date, 0),\r\n            arrival: this._dateTransform(date, duration),\r\n            duration: this._durationTransform(duration),\r\n            stopsCount: stops.length,\r\n            stopsNames: stops.join(', ')\r\n        }\r\n    }\r\n\r\n    _transformAllTickets(tickets) {\r\n        return tickets.map((ticket, index) => {\r\n            const { price, carrier, segments: [thither, back] } = ticket;\r\n\r\n            return {\r\n                id: index,\r\n                price: price.toLocaleString(),\r\n                carrier,\r\n                segments: [\r\n                    this._segmentTransform(thither),\r\n                    this._segmentTransform(back),\r\n                ],\r\n                duration: thither.duration + back.duration\r\n            }\r\n        });\r\n    }\r\n}\r\n","import React from 'react';\r\n\r\nimport './ErrorMessage.css';\r\n\r\nconst ErrorMessage = () => (\r\n    <div className=\"ErrorMessage\">\r\n        <div className=\"ErrorMessageContent\">Упс! Произошла ошибка, перезагрузите страницу, или зайдите позже</div>\r\n    </div>\r\n);\r\n\r\nexport default ErrorMessage;\r\n","import React from 'react';\r\n\r\nimport './Preloader.css';\r\n\r\nconst Preloader = () => (\r\n    <div className=\"Preloader\">\r\n        <div className=\"PreloaderSpinner\"></div>\r\n    </div>\r\n);\r\n\r\nexport default Preloader;\r\n","import React from 'react';\r\n\r\nimport './FilterPanelLabel.css';\r\n\r\nconst FilterPanelLabel = ({ label, id, handlerFilterPanel, checked, filter }) => (\r\n    <label htmlFor={id} className=\"FilterPanelLabel\">\r\n        <input\r\n            id={id}\r\n            onChange={() => handlerFilterPanel(filter)}\r\n            checked={checked}\r\n            type=\"checkbox\"\r\n        /> {label}\r\n    </label>\r\n);\r\n\r\nexport default FilterPanelLabel;\r\n","import React from 'react';\r\n\r\nimport FilterPanelLabel from './FilterPanelLabel';\r\nimport './FilterPanel.css';\r\n\r\nconst FilterPanel = ({ handlerFilterPanel, filters }) => (\r\n    <div className=\"FilterPanel\">\r\n        <div className=\"FilterPanelTitle\">Количество пересадок</div>\r\n        <FilterPanelLabel\r\n            id=\"allTickets\"\r\n            handlerFilterPanel={handlerFilterPanel}\r\n            checked={filters.length === 4 ? true : false}\r\n            label=\"Все\"\r\n        />\r\n        <FilterPanelLabel\r\n            id=\"withoutTransfers\"\r\n            handlerFilterPanel={handlerFilterPanel}\r\n            checked={filters.indexOf(0) !== -1 ? true : false}\r\n            label=\"Без пересадок\"\r\n            filter={0}\r\n        />\r\n        <FilterPanelLabel\r\n            id=\"oneTransfer\"\r\n            handlerFilterPanel={handlerFilterPanel}\r\n            checked={filters.indexOf(1) !== -1 ? true : false}\r\n            label=\"Одна пересадка\"\r\n            filter={1}\r\n        />\r\n\r\n        <FilterPanelLabel\r\n            id=\"twoTransfers\"\r\n            handlerFilterPanel={handlerFilterPanel}\r\n            checked={filters.indexOf(2) !== -1 ? true : false}\r\n            label=\"Две пересадки\"\r\n            filter={2}\r\n        />\r\n\r\n        <FilterPanelLabel\r\n            id=\"threeTransfers\"\r\n            handlerFilterPanel={handlerFilterPanel}\r\n            checked={filters.indexOf(3) !== -1 ? true : false}\r\n            label=\"Три пересадки\"\r\n            filter={3}\r\n        />\r\n    </div>\r\n);\r\n\r\nexport default FilterPanel;\r\n","import React from 'react';\r\n\r\nimport './ButtonSort.css';\r\n\r\nconst ButtonSort = ({ label, sort, sortable, handlerSortPanel }) => {\r\n    const classActive = sort === sortable ? 'active' : '';\r\n\r\n    return (\r\n        <button\r\n            className={`ButtonSort ${classActive}`}\r\n            onClick={() => handlerSortPanel(sortable)}>\r\n            {label}\r\n        </button>\r\n    )\r\n};\r\n\r\nexport default ButtonSort;\r\n","import React from 'react';\r\n\r\nimport ButtonSort from './ButtonSort';\r\nimport './SortPanel.css';\r\n\r\nconst SortPanel = (props) => (\r\n    <div className=\"SortPanel\">\r\n        <ButtonSort label=\"Самый дешевый\" sortable=\"price\" {...props} />\r\n        <ButtonSort label=\"Самый быстрый\" sortable=\"duration\" {...props} />\r\n    </div>\r\n);\r\n\r\nexport default SortPanel;\r\n","import React from 'react';\r\n\r\nimport './TicketInfo.css';\r\n\r\nconst TicketInfo = ({ header, content }) => (\r\n    <div className=\"TicketInfo\">\r\n        <div className=\"TicketInfoHeader\">{header}</div>\r\n        <div className=\"TicketInfoContent\">{content}</div>\r\n    </div>\r\n);\r\n\r\nexport default TicketInfo;\r\n","import React, { Fragment } from 'react';\r\n\r\nimport TicketInfo from './TicketInfo';\r\nimport './Ticket.css';\r\n\r\nconst Ticket = ({ price, carrier, segments }) => {\r\n\r\n    const ticketInfo = segments.map((segment, index) => {\r\n        return (\r\n            <Fragment key={index}>\r\n                <TicketInfo\r\n                    header={`${segment.origin} - ${segment.destination}`}\r\n                    content={`${segment.departure} - ${segment.arrival}`}\r\n                />\r\n                <TicketInfo\r\n                    header=\"В пути\"\r\n                    content={segment.duration}\r\n                />\r\n                <TicketInfo\r\n                    header={`Пересадок ${segment.stopsCount}`}\r\n                    content={segment.stopsNames}\r\n                />\r\n            </Fragment>\r\n        );\r\n    });\r\n\r\n    return (\r\n        <div className=\"Ticket\">\r\n            <div className=\"TicketPrice\">{price} Р</div>\r\n            <img className=\"TicketLogo\" src={`//pics.avs.io/99/36/${carrier}.png`} alt=\"\" />\r\n            {ticketInfo}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Ticket;\r\n","import React from 'react';\r\n\r\nimport Ticket from '../Ticket';\r\nimport './TicketList.css';\r\n\r\nconst TicketList = ({ tickets }) => {\r\n\r\n    let ticketsList = tickets.map(({ id, ...tickets }) => {\r\n        return <Ticket key={id} {...tickets} />\r\n    });\r\n\r\n    return (\r\n        <div className=\"TicketList\">{ticketsList}</div>\r\n    );\r\n}\r\n\r\nexport default TicketList;\r\n","import React from 'react';\r\n\r\nimport './ButtonLoadMore.css';\r\n\r\nconst ButtonLoadMore = ({handlerLoadMore}) => (\r\n    <button \r\n        onClick={handlerLoadMore} \r\n        type=\"button\"\r\n        className=\"ButtonLoadMore\">\r\n            Загрузить еще\r\n    </button>\r\n);\r\n\r\nexport default ButtonLoadMore;\r\n","export default __webpack_public_path__ + \"static/media/Logo.84685afa.svg\";","import React from 'react';\r\n\r\nimport './Logo.css';\r\nimport logo from './Logo.svg';\r\n\r\nconst Logo = () => (\r\n    <div className=\"Logo\">\r\n        <img className=\"LogoImage\" src={logo} alt=\"logo aviasales\" />\r\n    </div>\r\n);\r\n\r\nexport default Logo;\r\n","import React from 'react';\r\n\r\nimport FilterPanel from '../FilterPanel';\r\nimport SortPanel from '../SortPanel';\r\nimport TicketList from '../TicketList';\r\nimport ButtonLoadMore from '../ButtonLoadMore';\r\nimport Logo from '../Logo';\r\nimport './App.css';\r\n\r\nconst AppView = ({ handlerLoadMore, handlerSortPanel, handlerFilterPanel, sort, tickets, filters }) => (\r\n    <div className=\"App\">\r\n        <Logo />\r\n        <div className=\"AppContainer\">\r\n            <FilterPanel filters={filters} handlerFilterPanel={handlerFilterPanel} />\r\n            <div>\r\n                <SortPanel sort={sort} handlerSortPanel={handlerSortPanel} />\r\n                <TicketList tickets={tickets} />\r\n                <ButtonLoadMore handlerLoadMore={handlerLoadMore} />\r\n            </div>\r\n        </div>\r\n    </div>\r\n);\r\n\r\nexport default AppView;\r\n","import React, { Component } from 'react';\r\n\r\nimport ServiceApi from '../../services/ServiceApi';\r\nimport ErrorMessage from '../ErrorMessage';\r\nimport Preloader from '../Preloader';\r\nimport AppView from './AppView';\r\n\r\nexport default class App extends Component {\r\n    serviceApi = new ServiceApi();\r\n\r\n    state = {\r\n        tickets: [],\r\n        error: false,\r\n        loading: true,\r\n        page: 1,\r\n        sort: 'price',\r\n        filters: []\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.serviceApi.getAllTickets()\r\n            .then((tickets) => {\r\n                this.setState({\r\n                    tickets,\r\n                    loading: false\r\n                });\r\n            })\r\n            .catch((err) => {\r\n                console.log(err.message);\r\n                this.setState({\r\n                    error: true,\r\n                    loading: false\r\n                });\r\n            })\r\n    }\r\n\r\n    handlerSortPanel(sort) {\r\n        this.setState({\r\n            sort,\r\n            page: 1\r\n        });\r\n    }\r\n\r\n    handlerLoadMore() {\r\n        this.setState(({ page }) => {\r\n            return {\r\n                page: page + 1\r\n            }\r\n        });\r\n    }\r\n\r\n    handlerFilterPanel(filter) {\r\n        this.setState(({ filters }) => {\r\n            const index = filters.indexOf(filter);\r\n\r\n            let newFilters;\r\n\r\n            if (filter === undefined) {\r\n                newFilters = filters.length !== 4 ? [0, 1, 2, 3] : [];\r\n            }\r\n            else if (index !== -1) {\r\n                newFilters = [...filters.slice(0, index), ...filters.slice(index + 1)];\r\n            }\r\n            else {\r\n                newFilters = [...filters, filter];\r\n            }\r\n\r\n            return {\r\n                filters: newFilters\r\n            }\r\n        });\r\n    }\r\n\r\n    filtering(arr, filters) {\r\n\r\n        if (filters.length === 4 || !filters.length) {\r\n            return arr;\r\n        }\r\n\r\n        return arr.filter(({ segments: [thither, back] }) => {\r\n            if (filters.indexOf(thither.stopsCount) !== -1 && filters.indexOf(back.stopsCount) !== -1) {\r\n                return true;\r\n            }\r\n\r\n            return false;\r\n        });\r\n    }\r\n\r\n    sorting(arr, sort) {\r\n        return arr.sort((a, b) => {\r\n            if (a[sort] > b[sort]) return 1;\r\n            if (a[sort] === b[sort]) return 0;\r\n            if (a[sort] < b[sort]) return -1;\r\n            return null;\r\n        });\r\n    }\r\n\r\n    paginate(arr, page = 1) {\r\n        return arr.slice(0, page * 10);\r\n    }\r\n\r\n    render() {\r\n        const { tickets, error, loading, page, sort, filters } = this.state;\r\n\r\n        const filterTickets = this.filtering(tickets, filters);\r\n        const sortTickets = this.sorting(filterTickets, sort);\r\n        const viewTickets = this.paginate(sortTickets, page);\r\n\r\n        if (loading) {\r\n            return <Preloader />\r\n        }\r\n        else if (error) {\r\n            return <ErrorMessage />\r\n        }\r\n        else {\r\n            return (\r\n                <AppView\r\n                    tickets={viewTickets}\r\n                    sort={sort}\r\n                    filters={filters}\r\n                    handlerLoadMore={this.handlerLoadMore.bind(this)}\r\n                    handlerSortPanel={this.handlerSortPanel.bind(this)}\r\n                    handlerFilterPanel={this.handlerFilterPanel.bind(this)}\r\n                />\r\n            );\r\n        }\r\n    }\r\n}\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}